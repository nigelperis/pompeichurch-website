---
import { getImage } from "astro:assets";
import { getLangFromUrl, useTranslations } from "~/i18n/utils";
import churchHeroImage from "~/assets/landing-page/church-hero.webp";
import { cn } from "~/helpers/cn";
import { Locale } from "~/enums/locale";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const optimizedChurchHeroImage = await getImage({ src: churchHeroImage });
---

<head>
  <link
    rel="preload"
    as="image"
    href={optimizedChurchHeroImage.src}
    type="image/webp"
  />
</head>

<section class="relative w-full h-screen">
 <div
    class="h-[40vh] md:h-[80vh] bg-cover bg-center bg-no-repeat"
    style={`background-image: url(${optimizedChurchHeroImage.src})`}
  >
  <!-- Content -->
  <div
    class="relative flex flex-col items-center justify-center h-full text-center px-4 pt-24"
    data-aos="fade-up"
  >
    <!-- Logo -->
<img
  src="/church-logo.webp"
  alt="Our Lady of Pompei Church logo"
  width={160}
  height={160}
  class="mb-6 drop-shadow-md w-30 sm:w-28 md:w-36 lg:w-40"
  data-aos="fade-up"
  data-aos-delay="400"
/>

    <h1
      class={cn(
        "text-2xl md:text-5xl font-semibold text-natgeo-yellow tracking-wide",
        { "font-semibold tracking-wide": lang === Locale.KOK },
      )}
      data-aos="fade-up"
      data-aos-delay="700"
    >
      {t("landing.church-name")}
    </h1>

    <p
      class="mt-1 text-md md:text-3xl text-white"
      data-aos="fade-up"
      data-aos-delay="900"
    >
      {t("landing.town-name")}
    </p>
  </div>
</section>
