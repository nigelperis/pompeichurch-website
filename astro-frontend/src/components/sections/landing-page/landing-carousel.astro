---
import EmblaCarosuel from '~/components/ui/embla-carousel.astro';
import EmblaCarosuelItem from '~/components/ui/embla-carousel-item.astro';
import { fetchCarouselImages } from '~/services/landing-page-carousel';
import NetworkImage from '~/components/ui/network-image.astro';

const landingCarouselImages = await fetchCarouselImages();
---

<EmblaCarosuel autoScroll={true}>
  {
    landingCarouselImages?.map((item) =>
      item.carouselImage?.map((img) => (
        <EmblaCarosuelItem class="h-[210px] md:h-[670px]">
          <NetworkImage
            src={img.url}
            alt={img.name}
            width={img.width ?? 800}
            height={img.height ?? 600}
            class="object-cover h-full"
          />
        </EmblaCarosuelItem>
      ))
    )
  }
</EmblaCarosuel>