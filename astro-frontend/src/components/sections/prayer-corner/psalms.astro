---
import { getLangFromUrl, useTranslations } from "~/i18n/utils";
import { psalms } from "~/constants/psalms";
import { getImage } from "astro:assets";
import PsalmViewer from "./PsalmViewer";

//Images
import psalmBg from "~/assets/prayer-corner/psalm-bg.jpg";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const optimizedBgImage = await getImage({ src: psalmBg });
---

<PsalmViewer
  client:load
  psalms={psalms[lang]}
  lang={lang}
  sectionTitle={t("prayer.psalms")}
  backgroundImage={optimizedBgImage.src}
/>
