---
import EmblaCarouselItem from "./ui/embla-carousel-item.astro";
import EmblaCarousel from "./ui/embla-carousel.astro";
import { Image } from 'astro:assets';
import YtThumbnail from '~/assets/gallery/yt-thumbnail.jpg'
import HoverableLink from "./ui/hoverable-link.astro";

const videos = [
  {
    url: 'https://www.youtube-nocookie.com/embed/kL2WebNdPXc',
  },
  {
    url: 'https://www.youtube-nocookie.com/embed/TQVrdZetQ3o',
  },
  {
    url: 'https://www.youtube-nocookie.com/embed/8PtMr1u7_X0',
  },
];
---

<div class="-mx-[1.5rem] md:hidden">
	<EmblaCarousel showArrows={true}>
		{videos.map((video) => (
			<EmblaCarouselItem>
				<div class="flex-shrink-0 w-full">
					<iframe
						width="100%"
						height="200"
						src={video.url}
            loading="lazy"
						title="YouTube Video"
						allow="accelerometer; encrypted-media; gyroscope; picture-in-picture"
						allowfullscreen
						class="aspect-video rounded-xl pointer-events-none"
					></iframe>
				</div>
			</EmblaCarouselItem>
		))}

		<EmblaCarouselItem>
			<div class="flex-shrink-0 w-full text-center rounded-xl relative">
				<Image src={YtThumbnail} alt="Watch more" class="rounded-xl" />
				<div class="absolute inset-0 bg-black/60 rounded-xl"></div>
				<div class="absolute inset-0 flex items-center justify-center h-[200]">
					<HoverableLink
						href="https://www.youtube.com/@pompeichurchmedia8386"
						class="mb-2 mt-2 inline-block text-xl font-bold text-white"
					>
						Watch More
					</HoverableLink>
				</div>
			</div>
		</EmblaCarouselItem>
	</EmblaCarousel>
</div>

<div class="hidden md:flex gap-6">
	{videos.slice(0, 2).map((video) => (
		<div class="w-1/3">
			<iframe
				width="100%"
				height="250"
				src={video.url}
				title="YouTube Video"
				allow="accelerometer; encrypted-media; gyroscope; picture-in-picture"
				allowfullscreen
				class="rounded-xl"
			></iframe>
		</div>
	))}

	<div class="w-1/3 relative">
		<Image src={YtThumbnail} alt="Watch more" class="rounded-xl w-full h-full object-cover" />
		<div class="absolute inset-0 bg-black/65 rounded-xl"></div>
		<div class="absolute inset-0 flex items-center justify-center">
			<HoverableLink
				href="https://www.youtube.com/@pompeichurchmedia8386"
				class="text-xl font-bold text-white px-4 py-2"
			>
				Watch More
			</HoverableLink>
		</div>
	</div>
</div>
