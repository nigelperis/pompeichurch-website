---
import '@fontsource/geist-sans';
import '@fontsource-variable/noto-sans-kannada';
import '@fontsource-variable/roboto';

import 'aos/dist/aos.css';

import { getLangFromUrl } from '~/i18n/utils';
import Navbar from '~/components/navbar.astro';
import Footer from '~/components/footer.astro';
import ScrollTop from '~/components/scroll-top.astro';
import GoogleAnalytics from '~/components/google-analytics.astro';
import "~/styles/global.css";

const lang = getLangFromUrl(Astro.url);

export interface Props {
	title: string;
	description?: string;
	image?: string;
	url?: string;
}

const { title, description, image, url } = Astro.props;
---

<!doctype html>
<html lang={lang}>
	<head>
		<GoogleAnalytics measurementId={'G-4HPXW69JQV'} />
		<meta charset="UTF-8" />
		<meta
			name="description"
			content={description || "Gurpur Parish, also known as Kowdur, is 19 km from Mangalore on the Moodbidri road, with deep historical and spiritual roots."}		/>
		<meta name="viewport" content="width=device-width" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={url || "https://pompeichurch.in/"} />
		<meta property="og:title" content={title || "Our Lady of Pompei Church | Gurpur Kaikamba"} />
		<meta property="og:description" content={description || "Gurpur Parish, also known as Kowdur, is 19 km from Mangalore on the Moodbidri road, with deep historical and spiritual roots."} />
		<meta property="og:image" content={image || "https://pompeichurch.in/church-hero.jpg"} />
		<meta property="og:image:alt" content={title || "Image of Our Lady of Pompei Church, Gurpur Kaikamba"} />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={url || "https://pompeichurch.in/"} />
		<meta property="twitter:title" content={title || "Our Lady of Pompei Church | Gurpur Kaikamba"} />
		<meta property="twitter:description" content={description || "Gurpur Parish, also known as Kowdur, is 19 km from Mangalore on the Moodbidri road, with deep historical and spiritual roots."} />
		<meta property="twitter:image" content={image || "https://pompeichurch.in/church-hero.jpg"} />
		<meta property="twitter:image:alt" content={title || "Image of Our Lady of Pompei Church, Gurpur Kaikamba"} />

		<meta name="apple-mobile-web-app-title" content="PompeiChurch" />
		<meta name="msvalidate.01" content="BEA18465C48B90A839493EB6EE14A0BD" />

		<link rel="icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
		<link rel="manifest" href="/site.webmanifest" />

		<!-- // TODO: Preload these two fonts -->
		<!-- <link
			rel="preload"
			as="font"
			type="font/woff2"
			href={robotoFont}
			crossorigin="anonymous"
		/>
		<link
			rel="preload"
			as="font"
			type="font/woff2"
			href={notoFont}
			crossorigin="anonymous"
		/> -->

		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		{import.meta.env.MODE === 'production' && (
	<script type="text/javascript">
		(function (c, l, a, r, i, t, y) {
			c[a] =
				c[a] ||
				function () {
					(c[a].q = c[a].q || []).push(arguments);
				};
			t = l.createElement(r);
			t.async = 1;
			t.src = 'https://www.clarity.ms/tag/' + i;
			y = l.getElementsByTagName(r)[0];
			y.parentNode.insertBefore(t, y);
		})(window, document, 'clarity', 'script', 'oxa7yg1jfv');
	</script>

	)}
	</head>
	<body class="w-screen overflow-x-hidden">
		<Navbar />
		<slot />
		<Footer />
		<ScrollTop />
		<style>
			:global(::-webkit-scrollbar) {
				width: 0.15em;
			}

			:global(::-webkit-scrollbar-track) {
				box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
			}

			:global(::-webkit-scrollbar-thumb) {
				background-color: #ffdd00;
				outline: 1px solid slategrey;
				border-radius: 10px;
			}

		</style>

		<script>
			import { aosInit } from '~/helpers/aos-config';
			aosInit();
		</script>
	</body>
</html>
